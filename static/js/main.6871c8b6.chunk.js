(this.webpackJsonpbulbt=this.webpackJsonpbulbt||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),i=n(4),s=n(3),l=n(5),c=n(0),o=n.n(c),u=n(7),h=n.n(u),m=(n(13),function e(t,n,r){Object(a.a)(this,e),this.hanzi=t,this.pinyin=n,this.tone=r}),d=function(){function e(t){Object(a.a)(this,e),this.mode=t}return Object(r.a)(e,[{key:"getAnswerField",value:function(e){return e.pinyin}},{key:"getQuestionField",value:function(e){return e.hanzi}}]),e}(),f=function e(t,n){Object(a.a)(this,e),this.hanzi=t,this.pinyin=n};n(14);function E(e){var t,n;return o.a.createElement("div",null,o.a.createElement("div",{className:"load-dialog"},o.a.createElement("h1",null,"Welcome!"),o.a.createElement(p,{onLoad:function(e,a){t=e,n=a}}),o.a.createElement("button",{className:"load-button",onClick:function(){return function(e){t||(t=[new m("\u6c34","shu\u01d0","water"),new m("\u98ce","f\u0113ng","wind"),new m("\u706b","hu\u01d2","fire"),new m("\u571f","t\u016d","earth")],n=[new f("\u6211\u975e\u5e38\u7231\u6c34\uff01","W\u01d2 f\u0113ich\xe1ng \xe0i shu\u01d0!"),new f("\u98ce\u662f\u4e00\u5207\u7684\u672c\u8d28\u3002","F\u0113ng sh\xec y\u012bqi\xe8 de b\u011bnzh\xed."),new f("\u706b\u4ee4\u4eba\u7740\u8ff7","Hu\u01d2 l\xecng r\xe9n zh\xe1om\xed"),new f("\u6f6e\u6e7f\u7684\u571f\u58e4\u95fb\u8d77\u6765\u5f88\u9999\u3002","Ch\xe1osh\u012b de t\u01d4r\u01ceng w\xe9n q\u01d0l\xe1i h\u011bn xi\u0101ng.")]),e.loadData(t,n)}(e)}}," Parse Pleco dictionary")),o.a.createElement("div",{className:"pleco-descripion"},"About Pleco",o.a.createElement("br",null),o.a.createElement("br",null),"It is crucial to export the Pleco database backup in the right file format. ",o.a.createElement("br",null),o.a.createElement("br",null),"For doing so go to Export >> Export Cards ",o.a.createElement("br",null),o.a.createElement("br",null),"Export with the following settings: ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("li",null,"Card Selection, your choice - depends on what you want to revise"),o.a.createElement("li",null,"File Format, Text File"),o.a.createElement("li",null,"Text-Encoding, UTF8"),o.a.createElement("li",null,"Character set, simplified"),o.a.createElement("li",null,'Include Data, uncheck all fields apart from the "Don\'t include examples" field has to be checked')))}var p=function(e){var t,a=function(a){for(var r=t.result.split("\n"),i=new Set,s=[],l=[],c=0;c<r.length;c++)if(r[c]){var o=r[c].replace(/\/\/|\.|\u2026/g,"").split("\t");o[0].length>1&&l.push(new f(o[0],o[1]));for(var u=o[0].split(""),h=0;h<u.length;h++){var d=u[h],E=n(15),p=E(d),v=E(d,{toneToNumberOnly:!0});d&&!i.has(d)&&(console.log(d+"\t"+p+"\t"+v),s.push(new m(d,p,v)),i.add(d))}}e.onLoad(s,l)};return o.a.createElement("div",null,o.a.createElement("input",{type:"file",id:"file",className:"input-file",accept:".txt",onChange:function(e){return n=e.target.files[0],(t=new FileReader).onloadend=a,void t.readAsText(n);var n}}))};n(17);function v(e){return o.a.createElement("div",{className:"card-detail"},o.a.createElement("div",null,"Some corresponding words/sentences found in your Pleco file."),function(){var t=[],n=0;return e.cardEntries.forEach((function(a){return t.push(function(t,n){var a=e.questionCard.hanzi,r=t.hanzi.split(a),i=[],s=0;return r.forEach((function(e){e?(i.push(o.a.createElement("span",{className:"neutral",key:s++},e)),i.push(o.a.createElement("span",{className:"highlight",key:s++},a))):i.push(o.a.createElement("span",{className:"highlight",key:s++},a))})),i.pop(),o.a.createElement("li",{key:n},o.a.createElement("div",{className:"list-row"},o.a.createElement("div",{className:"enumeration"}," ",n," "),o.a.createElement("div",{className:"sentence"},"  ",i," ")))}(a,n++))})),t}())}function w(e){return o.a.createElement("button",{className:"tile",onClick:e.onClick},e.value)}var g=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"renderTile",value:function(e){var t=this;return o.a.createElement(w,{value:this.props.mode.getAnswerField(this.props.answers[e]),onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"board"},o.a.createElement("div",{className:"board-row"},this.renderTile(0),this.renderTile(1)),o.a.createElement("div",{className:"board-row"},this.renderTile(2),this.renderTile(3)))}}]),t}(o.a.Component);function b(e){return o.a.createElement("button",{style:{background:e.status?"#2196F3":"#FF5722"},className:"game-status",onClick:e.onClick},e.status?"Correct.":"Try again.")}var k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={isGame:!1,isRunning:!1,showGameStatus:!1,showDetails:!1,answerCorrect:!1,answers:Array(4).fill(null),question:new m("\u6c34","shu\u01d0","water"),player:"X",entries:null,mode:new d(null)},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"evaluateAnswer",value:function(e){var t=this.state.answers[e]===this.state.question;this.setState({showGameStatus:!0,answerCorrect:t})}},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}},{key:"setUpNewRound",value:function(){var e=this.shuffle(this.state.cards.slice()).slice(0,4),t=this.shuffle(e.slice())[0];this.setState({showGameStatus:!1,showDetails:!1,isRunning:!0,answers:e,question:t})}},{key:"updateEntryData",value:function(e,t){this.setState({cards:e,entries:t,isGame:!0})}},{key:"render",value:function(){var e=this;return this.state.isGame?this.state.isRunning?o.a.createElement("div",null,o.a.createElement("h1",{className:"game-title"},"Chinese characters game"),o.a.createElement("div",{className:"question-bar"}," How is the character pronounced? ",o.a.createElement("br",null),o.a.createElement("span",{onClick:function(){return e.setState({showDetails:!0})},id:"question-highlight"}," ",this.state.mode.getQuestionField(this.state.question),"  ")),o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"game-board"},o.a.createElement(g,{mode:this.state.mode,answers:this.state.answers,onClick:function(t){return e.evaluateAnswer(t)}}))),this.state.showDetails?o.a.createElement(v,{questionCard:this.state.question,cardEntries:this.getEntriesAssociatedWithCard(this.state.question),onClick:function(){return e.showDetails()}}):null,this.state.showGameStatus?o.a.createElement(b,{status:this.state.answerCorrect,onClick:function(){return e.setUpNewRound()}}):null):o.a.createElement("button",{className:"start-dialog",onClick:function(){return e.setUpNewRound()}},"Click to start"):o.a.createElement(E,{loadData:function(t,n){return e.updateEntryData(t,n)}})}},{key:"getEntriesAssociatedWithCard",value:function(e){var t=[];return this.state.entries.forEach((function(n){n.hanzi.includes(e.hanzi)&&(console.log(n.hanzi),t.push(n))})),t}}]),t}(o.a.Component);h.a.render(o.a.createElement("div",{className:"content"},o.a.createElement(k,null)),document.getElementById("root"))},8:function(e,t,n){e.exports=n(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.6871c8b6.chunk.js.map