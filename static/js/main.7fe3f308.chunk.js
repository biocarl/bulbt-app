(this.webpackJsonpbulbt=this.webpackJsonpbulbt||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),s=n(4),i=n(3),l=n(5),o=n(0),u=n.n(o),c=n(7),h=n.n(c),m=(n(13),function e(t,n,r){Object(a.a)(this,e),this.hanzi=t,this.pinyin=n,this.tone=r}),d=function(){function e(t){Object(a.a)(this,e),this.mode=t}return Object(r.a)(e,[{key:"getAnswerField",value:function(e){return e.pinyin}},{key:"getQuestionField",value:function(e){return e.hanzi}}]),e}();function f(e){var t;return u.a.createElement("div",{className:"load-dialog"},u.a.createElement("h1",null,"Welcome!"),u.a.createElement(v,{onLoad:function(e){return t=e}}),u.a.createElement("button",{className:"load-button",onClick:function(){return function(e){t||(t=[new m("\u6c34","shu\u01d0","water"),new m("\u98ce","f\u0113ng","wind"),new m("\u706b","hu\u01d2","fire"),new m("\u571f","t\u016d","earth")]),e.loadData(t)}(e)}}," Parse Pleco dictionary"))}var v=function(e){var t,a=function(a){for(var r=t.result.split("\n"),s=new Set,i=[],l=0;l<r.length;l++)if(r[l])for(var o=r[l].replace(/\/\/|\.|\u2026/g,"").split("\t")[0].split(""),u=0;u<o.length;u++){var c=o[u],h=n(14),d=h(c),f=h(c,{toneToNumberOnly:!0});c&&!s.has(c)&&(console.log(c+"\t"+d+"\t"+f),i.push(new m(c,d,f)),s.add(c))}e.onLoad(i)};return u.a.createElement("div",null,u.a.createElement("input",{type:"file",id:"file",className:"input-file",accept:".txt",onChange:function(e){return n=e.target.files[0],(t=new FileReader).onloadend=a,void t.readAsText(n);var n}}))};function w(e){return u.a.createElement("button",{className:"tile",onClick:e.onClick},e.value)}var p=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"renderTile",value:function(e){var t=this;return u.a.createElement(w,{value:this.props.mode.getAnswerField(this.props.answers[e]),onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return u.a.createElement("div",{className:"board"},u.a.createElement("div",{className:"board-row"},this.renderTile(0),this.renderTile(1)),u.a.createElement("div",{className:"board-row"},this.renderTile(2),this.renderTile(3)))}}]),t}(u.a.Component);function b(e){return u.a.createElement("button",{style:{background:e.status?"#2196F3":"#FF5722"},className:"game-status",onClick:e.onClick},e.status?"Correct.":"Try again.")}var E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={isGame:!1,isRunning:!1,showGameStatus:!1,answerCorrect:!1,answers:Array(4).fill(null),question:new m("\u6c34","shu\u01d0","water"),player:"X",entries:null,mode:new d(null)},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"evaluateAnswer",value:function(e){var t=this.state.answers[e]===this.state.question;this.setState({showGameStatus:!0,answerCorrect:t})}},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}},{key:"setUpNewRound",value:function(){var e=this.shuffle(this.state.entries.slice()).slice(0,4),t=this.shuffle(e.slice())[0];this.setState({showGameStatus:!1,isRunning:!0,answers:e,question:t})}},{key:"updateEntryData",value:function(e){this.setState({entries:e,isGame:!0})}},{key:"render",value:function(){var e=this;return this.state.isGame?this.state.isRunning?u.a.createElement("div",null,u.a.createElement("h1",{className:"game-title"},"Chinese characters game"),u.a.createElement("div",{className:"question-bar"}," How is the character pronounced? ",u.a.createElement("br",null)," ",u.a.createElement("span",{id:"question-highlight"}," ",this.state.mode.getQuestionField(this.state.question),"  ")),u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"game-board"},u.a.createElement(p,{mode:this.state.mode,answers:this.state.answers,onClick:function(t){return e.evaluateAnswer(t)}}),this.state.showGameStatus?u.a.createElement(b,{status:this.state.answerCorrect,onClick:function(){return e.setUpNewRound()}}):null))):u.a.createElement("button",{className:"start-dialog",onClick:function(){return e.setUpNewRound()}},"Click to start"):u.a.createElement(f,{loadData:function(t){return e.updateEntryData(t)}})}}]),t}(u.a.Component);h.a.render(u.a.createElement("div",{className:"content"},u.a.createElement(E,null)),document.getElementById("root"))},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.7fe3f308.chunk.js.map